#:kivy 2.0.0
MDScreen:
    MDNavigationLayout:
        ScreenManager:
            MDScreen:
                MDBoxLayout:
                    orientation: "vertical"
                    MDBoxLayout:
                        adaptive_height: True
                        padding: "12dp"
                        md_bg_color: app.theme_cls.bg_light
                        MDLabel:
                            text: "CyberShield"
                            adaptive_height: True
                            pos_hint: {"center_y": .5}
                            font_style: "H5"
                            theme_text_color: "Custom"
                            text_color: 0,0,0,1
                    MDBoxLayout:
                        MDNavigationRail:
                            id: navigation_rail
                            md_bg_color: app.theme_cls.bg_light
                            MDNavigationRailMenuButton:
                                on_release: nav_drawer.set_state("open")
                            MDNavigationRailItem:
                                text: "Home"
                                icon: "home"
                                on_release:
                                    screen_manager.current = "home"
                                theme_text_color: "Custom"
                                text_color: 0,0,0,1
                            MDNavigationRailItem:
                                text: "Antivirus"
                                icon: "shield-bug"
                                on_release:
                                    screen_manager.current = "antivirus"
                                theme_text_color: "Custom"
                                text_color: 0,0,0,1
                            MDNavigationRailItem:
                                text: "Passwords"
                                icon: "key"
                                on_release:
                                    screen_manager.current = "passwordmanager"
                                theme_text_color: "Custom"
                                text_color: 0,0,0,1
                            MDNavigationRailItem:
                                text: "AI"
                                icon: "robot-confused"
                                on_release:
                                    screen_manager.current = "ai"
                                theme_text_color: "Custom"
                                text_color: 0,0,0,1
                            MDNavigationRailItem:
                                text: "Settings"
                                icon: "cog"
                                on_release:
                                    screen_manager.current = "settings"
                                theme_text_color: "Custom"
                                text_color: 0,0,0,1

                        ScreenManager:
                            id: screen_manager
                            main_window: main_window
                            home: home
                            settings: settings
                            antivirus: antivirus
                            passwordmanager: passwordmanager
                            Screen:
                                id: main_window
                                name: "main_window"
                                md_bg_color: 
                                MDCard:
                                    size_hint: None, None
                                    size: 300,400
                                    pos_hint: {"center_x":.5, "center_y":.5}
                                    elevation: 4
                                    padding: 25
                                    spacing:25
                                    orientation: 'vertical'
                                    MDLabel:
                                        id: welcome
                                        text: "Welcome!"
                                        font_size: 40
                                        halign: "center"
                                        size_hint_y: None
                                        height: self.texture_size[1]
                                        padding_y: 15
                                    MDTextField:
                                        id: user
                                        hint_text: "Username"
                                        icon_right: "account"
                                        size_hint_x: None
                                        width: 200
                                        font_size: 18
                                        pos_hint: {"center_x":.5, "center_y":.5}
                                    MDTextField:
                                        id: pin
                                        hint_text: "Password"
                                        icon_right: "eye-off"
                                        size_hint_x: None
                                        width: 200
                                        font_size: 18
                                        pos_hint: {"center_x":.5, "center_y":.5}
                                        password: True
                                    MDFillRoundFlatButton:
                                        id: login
                                        text:"Login"
                                        font_size: 12
                                        pos_hint: {"center_x":.5, "center_y":.5}
                                        size_hint: 1, None
                                        on_release:
                                            root.screen_manager.current = "home"
                                    MDFillRoundFlatButton:
                                        id: clear
                                        text:"Clear"
                                        font_size: 12
                                        pos_hint: {"center_x":.5, "center_y":.5}
                                        size_hint: 1, None
                            Screen:
                                id: home
                                name: "home"
                                MDGridLayout:
                                    rows: 2
                                    cols: 2
                                    padding: 10
                                    spacing: 10
                                    MDLabel:
                                        text: "Label 1"
                                        halign: "center"
                                    MDLabel:
                                        text: "Label 2"
                                        halign: "center"
                                    MDLabel:
                                        text: "Label 3"
                                        halign: "center"
                                    MDLabel:
                                        text: "Label 4"
                                        halign: "center"

                            Screen:
                                id: settings
                                name: "settings"
                                date_label: date_label
                                MDGridLayout:
                                    rows:3
                                    cols:2
                                    spacing: 20
                                    padding: 20
                                    MDFlatButton:
                                        text: "Switch Theme"
                                        halign: 'center'
                                        pos_hint: {"center_x":.5,"center_y":.9}
                                        font_style: "H6"
                                    MDSwitch:
                                        id: theme_switcher
                                        active: False
                                        pos_hint: {"center_x":.5,"center_y":.9}
                                        halign: 'center'
                                        on_active:
                                            app.theme_select()
                                    MDFlatButton:
                                        id: date_label
                                        text: "Date Picker"
                                        halign: 'center'
                                        pos_hint: {"center_x":.5, "center_y":.9}
                                        font_style: "H6"
                                    MDFillRoundFlatButton:
                                        text: "Select Date"
                                        pos_hint: {"center_x":.5, "center_y":.9}
                                        on_release:
                                            app.show_date_picker()
                            Screen:
                                id: antivirus
                                name: "antivirus"
                                MDCard:
                                    orientation: "vertical"
                                    padding: 20
                                    spacing: 20
                                    MDProgressBar:
                                        id: progress_bar
                                        size_hint: 1,0
                                        pos_hint: {"center_x":.5, "center_y":.5}
                                        value: 0
                                    MDFillRoundFlatButton:
                                        id: scan_file
                                        text: "Scan Files"
                                        pos_hint: {"center_x":.5, "center_y":.5}
                                        size_hint: 1, None
                                        on_release:
                                            app.scan_files()
                                            app.progress_bar()

                            Screen:
                                id: passwordmanager
                                name: "passwordmanager"
                                website: website
                                load: load
                                username: username
                                pencil: pencil
                                passwords: passwords
                                showpassword: showpassword
                                submit: submit
                                MDBoxLayout:
                                    orientation: "vertical"
                                    spacing: 10
                                    padding: 10
                                    MDGridLayout:
                                        rows:4
                                        cols:2
                                        MDTextField:
                                            id: website
                                            multiline:False
                                            hint_text:"Enter Website"
                                            size_hint_x:0.5
                                            icon_left:"web"
                                        MDIconButton:
                                            id: load
                                            icon: "plus-box-multiple-outline"
                                        MDTextField:
                                            id: username
                                            multiline:False
                                            hint_text: "Enter Username"
                                            size_hint_x:0.5
                                            icon_left: "account-circle-outline"
                                        MDIconButton:
                                            id:pencil
                                            icon:"account"
                                            theme_text_color:"Hint"
                                        MDTextField:
                                            id: passwords
                                            multiline:False
                                            hint_text: "Enter Password"
                                            size_hint_x: 0.5
                                            password: True
                                            icon_left: "key-variant"
                                        MDIconButton:
                                            id: showpassword
                                            icon: "eye-off"
                                            text:"Show Password"
                                            pos_hint: {"center_y": 0.5}
                                            theme_text_color: "Hint"
                                            on_release:
                                                self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                                                passwords.password = False if passwords.password is True \
                                                else True
                                    MDRectangleFlatButton:
                                        id: encrypt
                                        text: "Encrypt Password?"
                                        size_hint: 1, None
                                        pos_hint_y: .5
                                        on_release:
                                            app.encrypt()
                                    MDFillRoundFlatButton:
                                        id: submit
                                        text:"Submit"
                                        size_hint: 1, None
                                        pos_hint_y: .5
                                        on_release:
                                            app.login_data()
                            Screen:
                                id: ai
                                name: "ai"
                                MDLabel:
                                    text: "Hello"
                                    halign: "center"

    MDNavigationDrawer:
        id: nav_drawer
        radius: 0, 16, 16, 0
        elevation: 2
        width: "240dp"

        MDNavigationDrawerMenu:

            MDBoxLayout:
                orientation: "vertical"
                adaptive_height: True
                spacing: "12dp"
                padding: 0, 0, 0, "12dp"

                MDIconButton:
                    icon: "arrow-left"
                    on_release: nav_drawer.set_state("close")

                MDBoxLayout:
                    adaptive_height: True
                    padding: "12dp", 0, 0, 0

            MDNavigationDrawerItem:
                text: "Home"
                icon: "home"
                on_release:
                    screen_manager.current = "home"
                theme_text_color: "Custom"
                text_color: 0,0,0,1

            MDNavigationDrawerItem:
                text: "Antivirus"
                icon: "shield-bug"
                on_release:
                    screen_manager.current = "antivirus"
                theme_text_color: "Custom"
                text_color: 0,0,0,1

            MDNavigationDrawerItem:
                text: "Passwords"
                icon: "key"
                on_release:
                    screen_manager.current = "passwordmanager"
                theme_text_color: "Custom"
                text_color: 0,0,0,1

            MDNavigationDrawerItem:
                text: "AI"
                icon: "robot-confused"
                on_release:
                    screen_manager.current = "ai"
                theme_text_color: "Custom"
                text_color: 0,0,0,1

            MDNavigationDrawerItem:
                text: "Settings"
                icon: "cog"
                on_release:
                    screen_manager.current = "settings"
                theme_text_color: "Custom"
                text_color: 0,0,0,1
