#:kivy 2.0.0
MDScreen:
    MDNavigationLayout:
        ScreenManager:
            MDScreen:
                MDBoxLayout:
                    orientation: "vertical"
                    MDBoxLayout:
                        adaptive_height: True
                        padding: "12dp"
                        MDLabel:
                            text: "CyberShield"
                            adaptive_height: True
                            pos_hint: {"center_y": .5}
                            font_style: "H5"
                    MDBoxLayout:
                        MDNavigationRail:
                            id: navigation_rail
                            md_bg_color: app.theme_cls.bg_light
                            MDNavigationRailMenuButton:
                                on_release: nav_drawer.set_state("open")
                            MDNavigationRailItem:
                                text: "Home"
                                icon: "home"
                                on_release:
                                    screen_manager.current = "main_window"
                            MDNavigationRailItem:
                                text: "Antivirus"
                                icon: "shield-bug"
                                on_release:
                                    screen_manager.current = "antivirus"
                            MDNavigationRailItem:
                                text: "Passwords"
                                icon: "key"
                                on_release:
                                    screen_manager.current = "passwordmanager"
                            MDNavigationRailItem:
                                text: "VPN"
                                icon: "vpn"
                                on_release:
                                    screen_manager.current = "vpn"
                            MDNavigationRailItem:
                                text: "Settings"
                                icon: "cog"
                                on_release:
                                    screen_manager.current = "settings"

                        ScreenManager:
                            id: screen_manager
                            main_window: main_window
                            settings: settings
                            antivirus: antivirus
                            passwordmanager: passwordmanager
                            vpn: vpn

                            Screen:
                                id: main_window
                                name: "main_window"
                                MDLabel:
                                    text:"Hello"
                                    halign:"center"

                            Screen:
                                id: settings
                                name: "settings"
                                date_label: date_label
                                MDGridLayout:
                                    rows:3
                                    cols:2
                                    spacing: 10
                                    padding: 10
                                    md_bg_color: app.theme_cls.bg_light
                                    MDFlatButton:
                                        text: "Switch Theme"
                                        halign: 'center'
                                        pos_hint: {"center_x":.5,"center_y":.9}
                                    MDSwitch:
                                        id: theme_switcher
                                        active: False
                                        pos_hint: {"center_x":.5,"center_y":.9}
                                        halign: 'center'
                                        on_active:
                                            app.theme_select()
                                    MDFlatButton:
                                        id: date_label
                                        text: "Date Picker"
                                        halign: 'center'
                                        pos_hint: {"center_x":.5, "center_y":.9}
                                    MDRectangleFlatButton:
                                        text: "Select Date"
                                        pos_hint: {"center_x":.5, "center_y":.9}
                                        md_bg_color: app.theme_cls.bg_normal
                                        on_release:
                                            app.show_date_picker()
                            Screen:
                                id: antivirus
                                name: "antivirus"
                                MDLabel:
                                    text:"Antivirus"
                                    halign:"center"

                            Screen:
                                id: passwordmanager
                                name: "passwordmanager"
                                website: website
                                load: load
                                username: username
                                pencil: pencil
                                passwords: passwords
                                showpassword: showpassword
                                submit: submit
                                MDBoxLayout:
                                    orientation: "vertical"
                                    spacing: 10
                                    padding: 10
                                    MDGridLayout:
                                        rows:4
                                        cols:2
                                        MDTextField:
                                            id: website
                                            multiline:False
                                            hint_text:"Enter Website"
                                            size_hint_x:0.5
                                            icon_left:"web"
                                        MDIconButton:
                                            id: load
                                            icon: "plus-box-multiple-outline"
                                        MDTextField:
                                            id: username
                                            multiline:False
                                            hint_text: "Enter Username"
                                            size_hint_x:0.5
                                            icon_left: "account-circle-outline"
                                        MDIconButton:
                                            id:pencil
                                            icon:"pencil"
                                            theme_text_color:"Hint"
                                        MDTextField:
                                            id: passwords
                                            multiline:False
                                            hint_text: "Enter Password"
                                            size_hint_x: 0.5
                                            password: True
                                            icon_left: "key-variant"
                                        MDIconButton:
                                            id: showpassword
                                            icon: "eye-off"
                                            text:"Show Password"
                                            pos_hint: {"center_y": 0.5}
                                            theme_text_color: "Hint"
                                            on_release:
                                                self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                                                passwords.password = False if passwords.password is True \
                                                else True
                                    MDRectangleFlatButton:
                                        id: encrypt
                                        text: "Encrypt Password?"
                                        size_hint: 1, None
                                        pos_hint_y: .5
                                        on_release:
                                            app.encrypt()
                                    MDFillRoundFlatButton:
                                        id: submit
                                        text:"Submit"
                                        size_hint: 1, None
                                        pos_hint_y: .5
                                        on_release:
                                            app.login_data()
                            Screen:
                                id: vpn
                                name: "vpn"
                                MDLabel:
                                    text:"VPN"
                                    halign:"center"

    MDNavigationDrawer:
        id: nav_drawer
        radius: 0, 16, 16, 0
        elevation: 2
        width: "240dp"

        MDNavigationDrawerMenu:

            MDBoxLayout:
                orientation: "vertical"
                adaptive_height: True
                spacing: "12dp"
                padding: 0, 0, 0, "12dp"

                MDIconButton:
                    icon: "arrow-left"
                    on_release: nav_drawer.set_state("close")

                MDBoxLayout:
                    adaptive_height: True
                    padding: "12dp", 0, 0, 0

            MDNavigationDrawerItem:
                text: "Home"
                icon: "home"
                on_release:
                    screen_manager.current = "main_window"

            MDNavigationDrawerItem:
                text: "Antivirus"
                icon: "shield-bug"
                on_release:
                    screen_manager.current = "antivirus"

            MDNavigationDrawerItem:
                text: "Passwords"
                icon: "key"
                on_release:
                    screen_manager.current = "passwordmanager"

            MDNavigationDrawerItem:
                text: "VPN"
                icon: "vpn"
                on_release:
                    screen_manager.current = "vpn"

            MDNavigationDrawerItem:
                text: "Settings"
                icon: "cog"
                on_release:
                    screen_manager.current = "settings"
